{"version":3,"file":"react.js","sources":["../../src/react.tsx"],"sourcesContent":["import * as React from 'react'\nimport { NoInfer, useStore } from '@tanstack/react-store'\nimport invariant from 'tiny-invariant'\nimport warning from 'tiny-warning'\n// @ts-ignore\nimport {\n  LinkOptions,\n  ToOptions,\n  ResolveRelativePath,\n  NavigateOptions,\n} from './link'\nimport { AnyRoute } from './route'\nimport { RouteByPath, AnyRoutesInfo, DefaultRoutesInfo } from './routeInfo'\nimport {\n  RegisteredRoutesInfo,\n  MatchRouteOptions,\n  RegisteredRouter,\n  RouterOptions,\n  Router,\n  RouteMatch,\n} from './router'\nimport { functionalUpdate, last, pick } from './utils'\n\n//\n\nexport { useStore }\n\n//\n\ntype ReactNode = any\n\nexport type SyncRouteComponent<TProps = {}> = (props: TProps) => ReactNode\n\nexport type RouteComponent<TProps = {}> = SyncRouteComponent<TProps> & {\n  preload?: () => Promise<void>\n}\n\nexport function lazy<T extends Record<string, SyncRouteComponent>>(\n  importer: () => Promise<T>,\n  exportName: keyof T = 'default',\n): RouteComponent {\n  const lazyComp = React.lazy(async () => {\n    const moduleExports = await importer()\n    const component = moduleExports[exportName]\n    return { default: component }\n  })\n\n  let preloaded: Promise<SyncRouteComponent>\n\n  const finalComp = lazyComp as unknown as RouteComponent\n\n  finalComp.preload = async () => {\n    if (!preloaded) {\n      await importer()\n    }\n  }\n\n  return finalComp\n}\n\nexport type LinkPropsOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = LinkOptions<RegisteredRoutesInfo, TFrom, TTo> & {\n  // A function that returns additional props for the `active` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  activeProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n  // A function that returns additional props for the `inactive` state of this link. These props override other props passed to the link (`style`'s are merged, `className`'s are concatenated)\n  inactiveProps?:\n    | React.AnchorHTMLAttributes<HTMLAnchorElement>\n    | (() => React.AnchorHTMLAttributes<HTMLAnchorElement>)\n  // If set to `true`, the link's underlying navigate() call will be wrapped in a `React.startTransition` call. Defaults to `true`.\n  startTransition?: boolean\n}\n\nexport type MakeUseMatchRouteOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = ToOptions<RegisteredRoutesInfo, TFrom, TTo> & MatchRouteOptions\n\nexport type MakeMatchRouteOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = ToOptions<RegisteredRoutesInfo, TFrom, TTo> &\n  MatchRouteOptions & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | ((\n          params?: RouteByPath<\n            RegisteredRoutesInfo,\n            ResolveRelativePath<TFrom, NoInfer<TTo>>\n          >['__types']['allParams'],\n        ) => ReactNode)\n      | React.ReactNode\n  }\n\nexport type MakeLinkPropsOptions<\n  TFrom extends string = '/',\n  TTo extends string = '',\n> = LinkPropsOptions<TFrom, TTo> & React.AnchorHTMLAttributes<HTMLAnchorElement>\n\nexport type MakeLinkOptions<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n> = LinkPropsOptions<TFrom, TTo> &\n  Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, 'children'> & {\n    // If a function is passed as a child, it will be given the `isActive` boolean to aid in further styling on the element it returns\n    children?:\n      | React.ReactNode\n      | ((state: { isActive: boolean }) => React.ReactNode)\n  }\n\nexport type PromptProps = {\n  message: string\n  condition?: boolean | any\n  children?: ReactNode\n}\n\n//\n\nexport function useLinkProps<\n  TFrom extends string = '/',\n  TTo extends string = '',\n>(\n  options: MakeLinkPropsOptions<TFrom, TTo>,\n): React.AnchorHTMLAttributes<HTMLAnchorElement> {\n  const router = useRouter()\n\n  const {\n    // custom props\n    type,\n    children,\n    target,\n    activeProps = () => ({ className: 'active' }),\n    inactiveProps = () => ({}),\n    activeOptions,\n    disabled,\n    // fromCurrent,\n    hash,\n    search,\n    params,\n    to = '.',\n    preload,\n    preloadDelay,\n    replace,\n    // element props\n    style,\n    className,\n    onClick,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    onTouchStart,\n    ...rest\n  } = options\n\n  const linkInfo = router.buildLink(options as any)\n\n  if (linkInfo.type === 'external') {\n    const { href } = linkInfo\n    return { href }\n  }\n\n  const {\n    handleClick,\n    handleFocus,\n    handleEnter,\n    handleLeave,\n    handleTouchStart,\n    isActive,\n    next,\n  } = linkInfo\n\n  const handleReactClick = (e: Event) => {\n    if (options.startTransition ?? true) {\n      ;(React.startTransition || ((d) => d))(() => {\n        handleClick(e)\n      })\n    }\n  }\n\n  const composeHandlers =\n    (handlers: (undefined | ((e: any) => void))[]) =>\n    (e: React.SyntheticEvent) => {\n      if (e.persist) e.persist()\n      handlers.filter(Boolean).forEach((handler) => {\n        if (e.defaultPrevented) return\n        handler!(e)\n      })\n    }\n\n  // Get the active props\n  const resolvedActiveProps: React.HTMLAttributes<HTMLAnchorElement> = isActive\n    ? functionalUpdate(activeProps as any, {}) ?? {}\n    : {}\n\n  // Get the inactive props\n  const resolvedInactiveProps: React.HTMLAttributes<HTMLAnchorElement> =\n    isActive ? {} : functionalUpdate(inactiveProps, {}) ?? {}\n\n  return {\n    ...resolvedActiveProps,\n    ...resolvedInactiveProps,\n    ...rest,\n    href: disabled ? undefined : next.href,\n    onClick: composeHandlers([onClick, handleReactClick]),\n    onFocus: composeHandlers([onFocus, handleFocus]),\n    onMouseEnter: composeHandlers([onMouseEnter, handleEnter]),\n    onMouseLeave: composeHandlers([onMouseLeave, handleLeave]),\n    onTouchStart: composeHandlers([onTouchStart, handleTouchStart]),\n    target,\n    style: {\n      ...style,\n      ...resolvedActiveProps.style,\n      ...resolvedInactiveProps.style,\n    },\n    className:\n      [\n        className,\n        resolvedActiveProps.className,\n        resolvedInactiveProps.className,\n      ]\n        .filter(Boolean)\n        .join(' ') || undefined,\n    ...(disabled\n      ? {\n          role: 'link',\n          'aria-disabled': true,\n        }\n      : undefined),\n    ['data-status']: isActive ? 'active' : undefined,\n  }\n}\n\nexport interface LinkFn<\n  TDefaultFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TDefaultTo extends string = '',\n> {\n  <\n    TFrom extends RegisteredRoutesInfo['routePaths'] = TDefaultFrom,\n    TTo extends string = TDefaultTo,\n  >(\n    props: MakeLinkOptions<TFrom, TTo> & React.RefAttributes<HTMLAnchorElement>,\n  ): ReactNode\n}\n\nexport const Link: LinkFn = React.forwardRef((props: any, ref) => {\n  const linkProps = useLinkProps(props)\n\n  return (\n    <a\n      {...{\n        ref: ref as any,\n        ...linkProps,\n        children:\n          typeof props.children === 'function'\n            ? props.children({\n                isActive: (linkProps as any)['data-status'] === 'active',\n              })\n            : props.children,\n      }}\n    />\n  )\n}) as any\n\nexport function Navigate<\n  TFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n  TTo extends string = '',\n>(props: NavigateOptions<RegisteredRoutesInfo, TFrom, TTo>): null {\n  const router = useRouter()\n\n  React.useLayoutEffect(() => {\n    router.navigate(props as any)\n  }, [])\n\n  return null\n}\n\nexport const matchIdsContext = React.createContext<string[]>(null!)\nexport const routerContext = React.createContext<RegisteredRouter>(null!)\n\nexport type RouterProps<\n  TRouteConfig extends AnyRoute = AnyRoute,\n  TRoutesInfo extends AnyRoutesInfo = DefaultRoutesInfo,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n> = Omit<RouterOptions<TRouteConfig, TDehydrated>, 'context'> & {\n  router: Router<TRouteConfig, TRoutesInfo>\n  context?: Partial<RouterOptions<TRouteConfig, TDehydrated>['context']>\n}\n\nexport function useRouterState<TSelected = RegisteredRouter['state']>(opts?: {\n  select: (state: RegisteredRouter['state']) => TSelected\n}): TSelected {\n  const router = useRouter()\n  return useStore(router.__store, opts?.select)\n}\n\nexport function RouterProvider<\n  TRouteConfig extends AnyRoute = AnyRoute,\n  TRoutesInfo extends AnyRoutesInfo = DefaultRoutesInfo,\n  TDehydrated extends Record<string, any> = Record<string, any>,\n>({ router, ...rest }: RouterProps<TRouteConfig, TRoutesInfo, TDehydrated>) {\n  router.update(rest)\n\n  React.useEffect(router.mount, [router])\n\n  const Wrap = router.options.Wrap || React.Fragment\n\n  return (\n    <Wrap>\n      <routerContext.Provider value={router as any}>\n        <Matches />\n      </routerContext.Provider>\n    </Wrap>\n  )\n}\n\nfunction Matches() {\n  const matchIds = useRouterState({\n    select: (d) => d.matches.map((d) => d.id),\n  })\n\n  return (\n    <matchIdsContext.Provider value={[undefined!, ...matchIds]}>\n      <CatchBoundary\n        errorComponent={ErrorComponent}\n        onCatch={() => {\n          warning(\n            false,\n            `Error in router! Consider setting an 'errorComponent' in your RootRoute! 👍`,\n          )\n        }}\n      >\n        <Outlet />\n      </CatchBoundary>\n    </matchIdsContext.Provider>\n  )\n}\n\nexport function useRouter(): RegisteredRouter {\n  const value = React.useContext(routerContext)\n  warning(value, 'useRouter must be used inside a <Router> component!')\n  return value\n}\n\nexport function useMatches<T = RouteMatch[]>(opts?: {\n  select?: (matches: RouteMatch[]) => T\n}): T {\n  const matchIds = React.useContext(matchIdsContext)\n  return useRouterState({\n    select: (state) => {\n      const matches = state.matches.slice(\n        state.matches.findIndex((d) => d.id === matchIds[0]),\n      )\n      return (opts?.select?.(matches) ?? matches) as T\n    },\n  })\n}\n\nexport function useMatch<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TRouteMatchState = RouteMatch<\n    RegisteredRoutesInfo,\n    RegisteredRoutesInfo['routesById'][TFrom]\n  >,\n  TSelected = TRouteMatchState,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  select?: (match: TRouteMatchState) => TSelected\n}): TStrict extends true ? TRouteMatchState : TRouteMatchState | undefined {\n  const router = useRouter()\n  const nearestMatchId = React.useContext(matchIdsContext)[0]!\n  const nearestMatchRouteId = router.getRouteMatch(nearestMatchId)?.routeId\n\n  const matchRouteId = useRouterState({\n    select: (state) => {\n      const matches = state.matches\n      const match = opts?.from\n        ? matches.find((d) => d.routeId === opts?.from)\n        : matches.find((d) => d.id === nearestMatchId)\n\n      return match!.routeId\n    },\n  })\n\n  if (opts?.strict ?? true) {\n    invariant(\n      nearestMatchRouteId == matchRouteId,\n      `useMatch(\"${\n        matchRouteId as string\n      }\") is being called in a component that is meant to render the '${nearestMatchRouteId}' route. Did you mean to 'useMatch(\"${\n        matchRouteId as string\n      }\", { strict: false })' or 'useRoute(\"${\n        matchRouteId as string\n      }\")' instead?`,\n    )\n  }\n\n  const match = useRouterState({\n    select: (state) => {\n      const matches = state.matches\n      const match = opts?.from\n        ? matches.find((d) => d.routeId === opts?.from)\n        : matches.find((d) => d.id === nearestMatchId)\n\n      invariant(\n        match,\n        `Could not find ${\n          opts?.from\n            ? `an active match from \"${opts.from}\"`\n            : 'a nearest match!'\n        }`,\n      )\n\n      return (opts?.select?.(match as any) ?? match) as TSelected\n    },\n  })\n\n  return match as any\n}\n\nexport type RouteFromIdOrRoute<T> = T extends RegisteredRoutesInfo['routeUnion']\n  ? T\n  : T extends keyof RegisteredRoutesInfo['routesById']\n  ? RegisteredRoutesInfo['routesById'][T]\n  : T extends string\n  ? keyof RegisteredRoutesInfo['routesById']\n  : never\n\nexport function useLoader<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TLoader = RegisteredRoutesInfo['routesById'][TFrom]['__types']['loader'],\n  TSelected = TLoader,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  select?: (search: TLoader) => TSelected\n}): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...(opts as any),\n    select: (match: RouteMatch) =>\n      (opts?.select?.(match.loader as TLoader) ?? match.loader) as TSelected,\n  })\n}\n\nexport function useSearch<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'],\n  TStrict extends boolean = true,\n  TSearch = RegisteredRoutesInfo['routesById'][TFrom]['__types']['fullSearchSchema'],\n  TSelected = TSearch,\n>(opts?: {\n  from: TFrom\n  strict?: TStrict\n  select?: (search: TSearch) => TSelected\n}): TStrict extends true ? TSelected : TSelected | undefined {\n  return useMatch({\n    ...(opts as any),\n    select: (match: RouteMatch) => {\n      return (opts?.select?.(match.search as TSearch) ??\n        match.search) as TSelected\n    },\n  })\n}\n\nexport function useParams<\n  TFrom extends keyof RegisteredRoutesInfo['routesById'] = '/',\n  TDefaultSelected = RegisteredRoutesInfo['allParams'] &\n    RegisteredRoutesInfo['routesById'][TFrom]['__types']['allParams'],\n  TSelected = TDefaultSelected,\n>(opts?: {\n  from: TFrom\n  select?: (search: TDefaultSelected) => TSelected\n}): TSelected {\n  return useRouterState({\n    select: (state: any) => {\n      const params = (last(state.matches) as any)?.params\n      return (opts?.select?.(params) ?? params) as TSelected\n    },\n  })\n}\n\nexport function useNavigate<\n  TDefaultFrom extends RegisteredRoutesInfo['routePaths'] = '/',\n>(defaultOpts?: { from?: TDefaultFrom }) {\n  const router = useRouter()\n  return React.useCallback(\n    <\n      TFrom extends RegisteredRoutesInfo['routePaths'] = TDefaultFrom,\n      TTo extends string = '',\n    >(\n      opts?: NavigateOptions<RegisteredRoutesInfo, TFrom, TTo>,\n    ) => {\n      return router.navigate({ ...defaultOpts, ...(opts as any) })\n    },\n    [],\n  )\n}\n\nexport function useMatchRoute() {\n  const router = useRouter()\n\n  return React.useCallback(\n    <TFrom extends string = '/', TTo extends string = ''>(\n      opts: MakeUseMatchRouteOptions<TFrom, TTo>,\n    ) => {\n      const { pending, caseSensitive, ...rest } = opts\n\n      return router.matchRoute(rest as any, {\n        pending,\n        caseSensitive,\n      })\n    },\n    [],\n  )\n}\n\nexport function MatchRoute<TFrom extends string = '/', TTo extends string = ''>(\n  props: MakeMatchRouteOptions<TFrom, TTo>,\n): any {\n  const matchRoute = useMatchRoute()\n  const params = matchRoute(props)\n\n  if (typeof props.children === 'function') {\n    return (props.children as any)(params)\n  }\n\n  return !!params ? props.children : null\n}\n\nexport function Outlet() {\n  const matchIds = React.useContext(matchIdsContext).slice(1)\n\n  if (!matchIds[0]) {\n    return null\n  }\n\n  return <Match matchIds={matchIds} />\n}\n\nconst defaultPending = () => null\n\nfunction Match({ matchIds }: { matchIds: string[] }) {\n  const router = useRouter()\n  const matchId = matchIds[0]!\n  const routeId = router.getRouteMatch(matchId)!.routeId\n  const route = router.getRoute(routeId)\n\n  const PendingComponent = (route.options.pendingComponent ??\n    router.options.defaultPendingComponent ??\n    defaultPending) as any\n\n  const errorComponent =\n    route.options.errorComponent ?? router.options.defaultErrorComponent\n\n  const ResolvedSuspenseBoundary =\n    route.options.wrapInSuspense ?? !route.isRoot\n      ? React.Suspense\n      : SafeFragment\n\n  const ResolvedCatchBoundary = errorComponent ? CatchBoundary : SafeFragment\n\n  return (\n    <matchIdsContext.Provider value={matchIds}>\n      <ResolvedSuspenseBoundary fallback={<PendingComponent />}>\n        <ResolvedCatchBoundary\n          key={route.id}\n          errorComponent={errorComponent}\n          onCatch={() => {\n            warning(false, `Error in route match: ${matchId}`)\n          }}\n        >\n          <MatchInner matchId={matchId} />\n        </ResolvedCatchBoundary>\n      </ResolvedSuspenseBoundary>\n    </matchIdsContext.Provider>\n  )\n}\n\nfunction MatchInner({ matchId }: { matchId: string }): any {\n  const router = useRouter()\n\n  const match = useRouterState({\n    select: (d) =>\n      pick(d.matches.find((d) => d.id === matchId)!, [\n        'status',\n        'loadPromise',\n        'routeId',\n        'error',\n      ]),\n  })\n\n  const route = router.getRoute(match.routeId)\n\n  if (match.status === 'error') {\n    throw match.error\n  }\n\n  if (match.status === 'pending') {\n    invariant(false, 'This should never happen')\n  }\n\n  if (match.status === 'success') {\n    let comp = route.options.component ?? router.options.defaultComponent\n\n    if (comp) {\n      return React.createElement(comp, {\n        useLoader: route.useLoader,\n        useMatch: route.useMatch,\n        useContext: route.useContext,\n        useSearch: route.useSearch,\n        useParams: route.useParams,\n      })\n    }\n\n    return <Outlet />\n  }\n\n  invariant(\n    false,\n    'Idle routeMatch status encountered during rendering! You should never see this. File an issue!',\n  )\n}\n\nfunction SafeFragment(props: any) {\n  return <>{props.children}</>\n}\n\nexport function useInjectHtml() {\n  const router = useRouter()\n\n  return React.useCallback(\n    (html: string | (() => Promise<string> | string)) => {\n      router.injectHtml(html)\n    },\n    [],\n  )\n}\n\nexport function useDehydrate() {\n  const router = useRouter()\n\n  return React.useCallback(function dehydrate<T>(\n    key: any,\n    data: T | (() => Promise<T> | T),\n  ) {\n    return router.dehydrateData(key, data)\n  },\n  [])\n}\n\nexport function useHydrate() {\n  const router = useRouter()\n\n  return function hydrate<T = unknown>(key: any) {\n    return router.hydrateData(key) as T\n  }\n}\n\n// This is the messiest thing ever... I'm either seriously tired (likely) or\n// there has to be a better way to reset error boundaries when the\n// router's location key changes.\n\nclass CatchBoundary extends React.Component<{\n  children: any\n  errorComponent: any\n  onCatch: (error: any, info: any) => void\n}> {\n  state = {\n    error: false,\n    info: undefined,\n  }\n  componentDidCatch(error: any, info: any) {\n    this.props.onCatch(error, info)\n    this.setState({\n      error,\n      info,\n    })\n  }\n  render() {\n    return (\n      <CatchBoundaryInner\n        {...this.props}\n        errorState={this.state}\n        reset={() => this.setState({})}\n      />\n    )\n  }\n}\n\nfunction CatchBoundaryInner(props: {\n  children: any\n  errorComponent: any\n  errorState: { error: unknown; info: any }\n  reset: () => void\n}) {\n  const locationKey = useRouterState({\n    select: (d) => d.resolvedLocation.key,\n  })\n\n  const [activeErrorState, setActiveErrorState] = React.useState(\n    props.errorState,\n  )\n  const errorComponent = props.errorComponent ?? ErrorComponent\n  const prevKeyRef = React.useRef('' as any)\n\n  React.useEffect(() => {\n    if (activeErrorState) {\n      if (locationKey !== prevKeyRef.current) {\n        setActiveErrorState({} as any)\n      }\n    }\n\n    prevKeyRef.current = locationKey\n  }, [activeErrorState, locationKey])\n\n  React.useEffect(() => {\n    if (props.errorState.error) {\n      setActiveErrorState(props.errorState)\n    }\n    // props.reset()\n  }, [props.errorState.error])\n\n  if (props.errorState.error && activeErrorState.error) {\n    return React.createElement(errorComponent, activeErrorState)\n  }\n\n  return props.children\n}\n\nexport function ErrorComponent({ error }: { error: any }) {\n  return (\n    <div style={{ padding: '.5rem', maxWidth: '100%' }}>\n      <strong style={{ fontSize: '1.2rem' }}>Something went wrong!</strong>\n      <div style={{ height: '.5rem' }} />\n      <div>\n        <pre\n          style={{\n            fontSize: '.7em',\n            border: '1px solid red',\n            borderRadius: '.25rem',\n            padding: '.5rem',\n            color: 'red',\n            overflow: 'auto',\n          }}\n        >\n          {error.message ? <code>{error.message}</code> : null}\n        </pre>\n      </div>\n    </div>\n  )\n}\n\nexport function useBlocker(\n  message: string,\n  condition: boolean | any = true,\n): void {\n  const router = useRouter()\n\n  React.useEffect(() => {\n    if (!condition) return\n\n    let unblock = router.history.block((retry, cancel) => {\n      if (window.confirm(message)) {\n        unblock()\n        retry()\n      }\n    })\n\n    return unblock\n  })\n}\n\nexport function Block({ message, condition, children }: PromptProps) {\n  useBlocker(message, condition)\n  return (children ?? null) as ReactNode\n}\n\nexport function shallow<T>(objA: T, objB: T) {\n  if (Object.is(objA, objB)) {\n    return true\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false\n  }\n\n  const keysA = Object.keys(objA)\n  if (keysA.length !== Object.keys(objB).length) {\n    return false\n  }\n\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !Object.prototype.hasOwnProperty.call(objB, keysA[i] as string) ||\n      !Object.is(objA[keysA[i] as keyof T], objB[keysA[i] as keyof T])\n    ) {\n      return false\n    }\n  }\n  return true\n}\n"],"names":["lazy","importer","exportName","lazyComp","React","moduleExports","component","default","finalComp","preload","useLinkProps","options","router","useRouter","type","children","target","activeProps","className","inactiveProps","activeOptions","disabled","hash","search","params","to","preloadDelay","replace","style","onClick","onFocus","onMouseEnter","onMouseLeave","onTouchStart","rest","linkInfo","buildLink","href","handleClick","handleFocus","handleEnter","handleLeave","handleTouchStart","isActive","next","handleReactClick","e","startTransition","d","composeHandlers","handlers","persist","filter","Boolean","forEach","handler","defaultPrevented","resolvedActiveProps","functionalUpdate","resolvedInactiveProps","undefined","join","role","Link","forwardRef","props","ref","linkProps","_extends","Navigate","useLayoutEffect","navigate","matchIdsContext","createContext","routerContext","useRouterState","opts","useStore","__store","select","RouterProvider","update","useEffect","mount","Wrap","Fragment","Matches","matchIds","matches","map","id","ErrorComponent","warning","value","useContext","useMatches","state","slice","findIndex","useMatch","nearestMatchId","nearestMatchRouteId","getRouteMatch","routeId","matchRouteId","match","from","find","strict","invariant","useLoader","loader","useSearch","useParams","last","useNavigate","defaultOpts","useCallback","useMatchRoute","pending","caseSensitive","matchRoute","MatchRoute","Outlet","defaultPending","Match","matchId","route","getRoute","PendingComponent","pendingComponent","defaultPendingComponent","errorComponent","defaultErrorComponent","ResolvedSuspenseBoundary","wrapInSuspense","isRoot","Suspense","SafeFragment","ResolvedCatchBoundary","CatchBoundary","MatchInner","pick","status","error","comp","defaultComponent","createElement","useInjectHtml","html","injectHtml","useDehydrate","dehydrate","key","data","dehydrateData","useHydrate","hydrate","hydrateData","Component","info","componentDidCatch","onCatch","setState","render","CatchBoundaryInner","locationKey","resolvedLocation","activeErrorState","setActiveErrorState","useState","errorState","prevKeyRef","useRef","current","padding","maxWidth","fontSize","height","border","borderRadius","color","overflow","message","useBlocker","condition","unblock","history","block","retry","cancel","window","confirm","Block","shallow","objA","objB","Object","is","keysA","keys","length","i","prototype","hasOwnProperty","call"],"mappings":"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"}